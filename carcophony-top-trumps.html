<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carcophony Top Trumps</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: #000;
            color: #fff;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background-image: 
                linear-gradient(rgba(0, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 20s linear infinite;
            pointer-events: none;
        }

        @keyframes gridMove {
            to { transform: translate(50px, 50px); }
        }

        .container {
            max-width: 1000px;
            width: 95%;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(2em, 6vw, 3.5em);
            font-weight: 900;
            text-align: center;
            margin-bottom: 10px;
            text-transform: uppercase;
            background: linear-gradient(45deg, #00ffff, #ff00ff, #ffff00, #00ffff);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 4s ease infinite;
            filter: drop-shadow(0 0 20px rgba(0, 255, 255, 0.3));
        }

        @keyframes gradientShift {
            50% { background-position: 100% 50%; }
        }

        .subtitle {
            text-align: center;
            font-size: 1.2em;
            color: #00ffff;
            margin-bottom: 30px;
            text-transform: uppercase;
            letter-spacing: 0.3em;
            font-weight: 700;
        }

        .game-screen {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(20, 20, 40, 0.95));
            border: 3px solid #00ffff;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .prize-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 2px solid #ff00ff;
            background: rgba(255, 0, 255, 0.1);
            box-shadow: 0 0 20px rgba(255, 0, 255, 0.3);
        }

        .prize-label {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2em;
            color: #ff00ff;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 0.2em;
        }

        .prize-card {
            max-width: 200px;
            margin: 0 auto;
            border: 2px solid #ffff00;
            box-shadow: 0 0 20px rgba(255, 255, 0, 0.5);
        }

        .prize-card img {
            width: 100%;
            display: block;
        }

        .hand-section {
            margin-bottom: 20px;
        }

        .hand-label {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1em;
            color: #00ffff;
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .card {
            border: 2px solid #00ffff;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
            transition: transform 0.3s;
            background: #000;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card img {
            width: 100%;
            display: block;
        }

        .card.hidden {
            background: linear-gradient(135deg, #001, #003);
            aspect-ratio: 4/5;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            color: #00ffff;
        }

        .stat-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .stat-btn {
            padding: 15px 30px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.1em;
            font-weight: 700;
            background: linear-gradient(135deg, #00ffff, #0088ff);
            color: #000;
            border: none;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            box-shadow: 0 5px 20px rgba(0, 255, 255, 0.5);
            transition: all 0.3s;
        }

        .stat-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.7);
        }

        .big-button {
            width: 100%;
            max-width: 400px;
            padding: 20px;
            margin: 20px auto;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5em;
            font-weight: 900;
            background: linear-gradient(135deg, #00ffff, #ff00ff);
            color: #000;
            border: none;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.5);
            transition: all 0.3s;
            display: block;
        }

        .big-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0, 255, 255, 0.8);
        }

        .score-display {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 20px;
            background: rgba(0, 255, 255, 0.05);
            border: 2px solid #00ffff;
        }

        .score-item {
            text-align: center;
        }

        .score-label {
            font-size: 0.9em;
            color: #00ffff;
            margin-bottom: 5px;
            text-transform: uppercase;
        }

        .score-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 2em;
            font-weight: 900;
            color: #fff;
            text-shadow: 0 0 15px #00ffff;
        }

        .result-message {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5em;
            font-weight: 900;
            margin: 20px 0;
            text-transform: uppercase;
            animation: pulse 1s ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .result-message.win {
            color: #00ff00;
            text-shadow: 0 0 30px #00ff00;
        }

        .result-message.lose {
            color: #ff0000;
            text-shadow: 0 0 30px #ff0000;
        }

        .collection-display {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255, 255, 0, 0.1);
            border: 2px solid #ffff00;
        }

        .collection-label {
            font-family: 'Orbitron', sans-serif;
            color: #ffff00;
            font-size: 1.2em;
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        .collection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 768px) {
            .cards-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }
            
            .stat-btn {
                padding: 12px 20px;
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>CARCOPHONY TOP TRUMPS</h1>
        <div class="subtitle">Ferrari Collection Challenge</div>

        <div class="game-screen">
            <!-- Start Screen -->
            <div id="startScreen">
                <div style="padding: 40px 20px;">
                    <h2 style="font-family: 'Orbitron', sans-serif; font-size: 1.5em; color: #00ffff; margin-bottom: 20px;">COLLECT ALL 4 FERRARIS TO WIN!</h2>
                    <p style="font-size: 1.2em; line-height: 1.8; margin-bottom: 30px;">
                        ‚Ä¢ Battle the House card-by-card<br>
                        ‚Ä¢ Pick your strongest stat<br>
                        ‚Ä¢ Win the prize card or lose one from your garage<br>
                        ‚Ä¢ Complete the Ferrari collection!
                    </p>
                    <button class="big-button" onclick="startGame()">üé∞ DEAL MY CARDS</button>
                </div>
            </div>

            <!-- Game Screen -->
            <div id="gameScreen" class="hidden">
                <!-- Collection Display -->
                <div class="collection-display">
                    <div class="collection-label">Your Ferrari Collection: <span id="collectionCount">0/4</span></div>
                    <div id="collectionGrid" class="collection-grid"></div>
                </div>

                <!-- Prize Card -->
                <div id="prizeSection" class="prize-section">
                    <div class="prize-label">üèÜ PRIZE THIS ROUND üèÜ</div>
                    <div class="prize-card">
                        <img id="prizeCardImg" src="" alt="Prize">
                    </div>
                    <div id="prizeCardName" style="margin-top: 10px; font-size: 1.1em; color: #ffff00;"></div>
                </div>

                <!-- Player Hand -->
                <div class="hand-section">
                    <div class="hand-label">YOUR HAND</div>
                    <div id="playerHand" class="cards-grid"></div>
                </div>

                <!-- Stat Selection -->
                <div id="statButtons" class="stat-buttons">
                    <button class="stat-btn" onclick="chooseStat('topSpeed')">TOP SPEED</button>
                    <button class="stat-btn" onclick="chooseStat('power')">POWER (BHP)</button>
                    <button class="stat-btn" onclick="chooseStat('zeroTo60')">0-60 TIME</button>
                </div>

                <!-- Score Display -->
                <div id="scoreDisplay" class="score-display hidden">
                    <div class="score-item">
                        <div class="score-label">Your Total</div>
                        <div class="score-value" id="playerScore">0</div>
                    </div>
                    <div class="score-item">
                        <div class="score-label">House Total</div>
                        <div class="score-value" id="houseScore">0</div>
                    </div>
                </div>

                <!-- House Hand -->
                <div class="hand-section">
                    <div class="hand-label">HOUSE HAND</div>
                    <div id="houseHand" class="cards-grid"></div>
                </div>

                <!-- Result Message -->
                <div id="resultMessage"></div>

                <!-- Next Round Button -->
                <button id="nextRoundBtn" class="big-button hidden" onclick="nextRound()">NEXT ROUND</button>
            </div>

            <!-- Game Over Screen -->
            <div id="gameOverScreen" class="hidden">
                <div style="padding: 40px 20px;">
                    <h2 id="gameOverTitle" style="font-family: 'Orbitron', sans-serif; font-size: 2.5em; margin-bottom: 20px;"></h2>
                    <p id="gameOverMessage" style="font-size: 1.3em; margin-bottom: 30px;"></p>
                    <button class="big-button" onclick="location.reload()">PLAY AGAIN</button>
                    <button class="big-button" onclick="shareResult()" style="background: linear-gradient(135deg, #ff00ff, #00ffff); margin-top: 10px;">üì± SHARE RESULT</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Car database - uses existing 46 cars from main game
        const carDatabase = [
            {id: "ferrari-296-gtb", name: "Ferrari 296 GTB", topSpeed: 205, zeroTo60: 2.9, power: 819, brand: "Ferrari"},
            {id: "dodge-viper-acr", name: "Dodge Viper ACR Extreme", topSpeed: 177, zeroTo60: 3.4, power: 645, brand: "Dodge"},
            {id: "spyker-c8", name: "Spyker C8 Laviolette", topSpeed: 186, zeroTo60: 4.5, power: 400, brand: "Spyker"},
            {id: "bmw-m1", name: "BMW M1", topSpeed: 162, zeroTo60: 5.4, power: 277, brand: "BMW"},
            {id: "lamborghini-murcielago", name: "Lamborghini Murcielago", topSpeed: 205, zeroTo60: 3.5, power: 572, brand: "Lamborghini"},
            {id: "dodge-charger-hellcat", name: "Dodge Charger SRT Hellcat", topSpeed: 203, zeroTo60: 3.5, power: 797, brand: "Dodge"},
            {id: "lotus-esprit-v8", name: "Lotus Esprit V8", topSpeed: 175, zeroTo60: 4.3, power: 350, brand: "Lotus"},
            {id: "porsche-911-gt2", name: "Porsche 911 GT2", topSpeed: 211, zeroTo60: 2.3, power: 691, brand: "Porsche"},
            {id: "porsche-959", name: "Porsche 959", topSpeed: 197, zeroTo60: 3.6, power: 444, brand: "Porsche"},
            {id: "lotus-emira", name: "Lotus Emira", topSpeed: 180, zeroTo60: 4.2, power: 400, brand: "Lotus"},
            {id: "mazda-rx7", name: "Mazda RX-7 Spirit R", topSpeed: 155, zeroTo60: 4.7, power: 276, brand: "Mazda"},
            {id: "ford-rs200", name: "Ford RS200 Evolution", topSpeed: 169, zeroTo60: 3.7, power: 572, brand: "Ford"},
            {id: "ford-sierra-cosworth", name: "Ford Sierra Cosworth RS", topSpeed: 149, zeroTo60: 6.2, power: 204, brand: "Ford"},
            {id: "lamborghini-miura", name: "Lamborghini Miura P400SV", topSpeed: 180, zeroTo60: 6.3, power: 385, brand: "Lamborghini"},
            {id: "mercedes-190e-evo2", name: "Mercedes-Benz 190E Evo II", topSpeed: 155, zeroTo60: 7.1, power: 235, brand: "Mercedes"},
            {id: "bmw-m3-e30-evo2", name: "BMW E30 M3 Evolution II", topSpeed: 152, zeroTo60: 6.2, power: 217, brand: "BMW"},
            {id: "renault-5-turbo", name: "Renault 5 Turbo 2", topSpeed: 124, zeroTo60: 6.5, power: 158, brand: "Renault"},
            {id: "honda-nsx", name: "Honda NSX", topSpeed: 191, zeroTo60: 3.0, power: 573, brand: "Honda"},
            {id: "aston-martin-dbx", name: "Aston Martin DBX", topSpeed: 193, zeroTo60: 3.1, power: 697, brand: "Aston Martin"},
            {id: "bugatti-eb110", name: "Bugatti EB110 Super Sport", topSpeed: 220, zeroTo60: 3.2, power: 603, brand: "Bugatti"},
            {id: "renault-twingo", name: "Renault Twingo", topSpeed: 93, zeroTo60: 13.5, power: 60, brand: "Renault"},
            {id: "jaguar-xe-sv", name: "Jaguar XE SV Project 8", topSpeed: 200, zeroTo60: 3.3, power: 592, brand: "Jaguar"},
            {id: "porsche-panamera", name: "Porsche Panamera Turbo S", topSpeed: 192, zeroTo60: 3.6, power: 562, brand: "Porsche"},
            {id: "cadillac-ct5v", name: "Cadillac CT5-V Blackwing", topSpeed: 200, zeroTo60: 3.6, power: 668, brand: "Cadillac"},
            {id: "alpine-a110", name: "Alpine A110", topSpeed: 170, zeroTo60: 4.1, power: 296, brand: "Alpine"},
            {id: "mercedes-r63-amg", name: "Mercedes-Benz R63 AMG", topSpeed: 171, zeroTo60: 4.6, power: 503, brand: "Mercedes"},
            {id: "aston-martin-rapide", name: "Aston Martin Rapide", topSpeed: 195, zeroTo60: 4.7, power: 558, brand: "Aston Martin"},
            {id: "mercedes-c63-final", name: "Mercedes-AMG C63 S Coup√©", topSpeed: 180, zeroTo60: 3.8, power: 503, brand: "Mercedes"},
            {id: "alfa-giulia-qv", name: "Alfa Romeo Giulia Quadrifoglio", topSpeed: 191, zeroTo60: 3.8, power: 503, brand: "Alfa Romeo"},
            {id: "audi-rs5-v10", name: "Audi RS5 Avant C6 V10", topSpeed: 155, zeroTo60: 4.5, power: 572, brand: "Audi"},
            {id: "nissan-gtr-nismo", name: "Nissan GT-R Nismo", topSpeed: 196, zeroTo60: 2.5, power: 592, brand: "Nissan"},
            {id: "bmw-m3-competition", name: "BMW M3 Competition", topSpeed: 174, zeroTo60: 4.0, power: 444, brand: "BMW"},
            {id: "ford-gt40", name: "Ford GT40", topSpeed: 164, zeroTo60: 5.3, power: 335, brand: "Ford"},
            {id: "ferrari-daytona", name: "Ferrari 365 GTB/4 Daytona", topSpeed: 174, zeroTo60: 5.4, power: 352, brand: "Ferrari"},
            {id: "noble-m12", name: "Noble M12 GTO-3R", topSpeed: 170, zeroTo60: 3.6, power: 400, brand: "Noble"},
            {id: "subaru-wrx-sti", name: "Subaru WRX STI", topSpeed: 155, zeroTo60: 4.6, power: 276, brand: "Subaru"},
            {id: "mitsubishi-evo6", name: "Mitsubishi EVO VI", topSpeed: 150, zeroTo60: 4.4, power: 276, brand: "Mitsubishi"},
            {id: "aston-martin-cygnet", name: "Aston Martin Cygnet", topSpeed: 106, zeroTo60: 11.5, power: 97, brand: "Aston Martin"},
            {id: "ferrari-f40", name: "Ferrari F40", topSpeed: 201, zeroTo60: 3.8, power: 488, brand: "Ferrari"},
            {id: "lamborghini-countach", name: "Lamborghini Countach LP5000 QV", topSpeed: 183, zeroTo60: 4.9, power: 455, brand: "Lamborghini"},
            {id: "yangwang-u9", name: "Yangwang U9 Xtreme", topSpeed: 308, zeroTo60: 1.9, power: 1300, brand: "Yangwang"},
            {id: "koenigsegg-agera", name: "Koenigsegg Agera RS", topSpeed: 278, zeroTo60: 2.8, power: 1360, brand: "Koenigsegg"},
            {id: "citroen-2cv", name: "Citroen 2CV", topSpeed: 71, zeroTo60: 30.0, power: 29, brand: "Citroen"},
            {id: "ford-mustang-gt500", name: "Ford Mustang Shelby GT500", topSpeed: 180, zeroTo60: 3.3, power: 760, brand: "Ford"},
            {id: "ferrari-ff", name: "Ferrari FF", topSpeed: 208, zeroTo60: 3.7, power: 651, brand: "Ferrari"},
            {id: "mclaren-f1", name: "McLaren F1", topSpeed: 240, zeroTo60: 3.2, power: 627, brand: "McLaren"}
        ];

        // Game state
        let playerCollection = [];
        let currentPrize = null;
        let playerHand = [];
        let houseHand = [];
        let roundsPlayed = 0;

        // Ferrari cards
        const ferrariCards = carDatabase.filter(car => car.brand === "Ferrari");

        function startGame() {
            // Give player 2 starter Ferraris
            playerCollection = [ferrariCards[0], ferrariCards[1]];
            roundsPlayed = 0;
            
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            
            updateCollectionDisplay();
            dealNewRound();
        }

        function dealNewRound() {
            // Deal 6 cards to player and house
            const shuffled = [...carDatabase].sort(() => Math.random() - 0.5);
            playerHand = shuffled.slice(0, 6);
            houseHand = shuffled.slice(6, 12);
            
            // Set prize card (one of the remaining 2 Ferraris if not collected yet)
            const uncollectedFerraris = ferrariCards.filter(f => 
                !playerCollection.some(c => c.id === f.id)
            );
            
            if (uncollectedFerraris.length > 0) {
                currentPrize = uncollectedFerraris[Math.floor(Math.random() * uncollectedFerraris.length)];
            } else {
                // All Ferraris collected - use random car
                currentPrize = shuffled[12];
            }
            
            // Reset UI
            document.getElementById('scoreDisplay').classList.add('hidden');
            document.getElementById('resultMessage').innerHTML = '';
            document.getElementById('nextRoundBtn').classList.add('hidden');
            document.getElementById('statButtons').classList.remove('hidden');
            document.getElementById('prizeSection').classList.remove('hidden');
            
            // Display prize
            document.getElementById('prizeCardImg').src = `images/${currentPrize.id}.jpg`;
            document.getElementById('prizeCardName').textContent = currentPrize.name;
            
            // Display hands
            displayHand(playerHand, 'playerHand', false);
            displayHand(houseHand, 'houseHand', true);
        }

        function displayHand(hand, elementId, hidden) {
            const container = document.getElementById(elementId);
            container.innerHTML = '';
            
            hand.forEach(car => {
                const cardDiv = document.createElement('div');
                if (hidden) {
                    cardDiv.className = 'card hidden';
                    cardDiv.textContent = '?';
                } else {
                    cardDiv.className = 'card';
                    const img = document.createElement('img');
                    img.src = `images/${car.id}.jpg`;
                    img.alt = car.name;
                    cardDiv.appendChild(img);
                }
                container.appendChild(cardDiv);
            });
        }

        function chooseStat(stat) {
            document.getElementById('statButtons').classList.add('hidden');
            
            // Calculate totals
            let playerTotal, houseTotal;
            
            if (stat === 'topSpeed') {
                playerTotal = playerHand.reduce((sum, car) => sum + car.topSpeed, 0);
                houseTotal = houseHand.reduce((sum, car) => sum + car.topSpeed, 0);
            } else if (stat === 'power') {
                playerTotal = playerHand.reduce((sum, car) => sum + car.power, 0);
                houseTotal = houseHand.reduce((sum, car) => sum + car.power, 0);
            } else { // zeroTo60
                playerTotal = playerHand.reduce((sum, car) => sum + car.zeroTo60, 0);
                houseTotal = houseHand.reduce((sum, car) => sum + car.zeroTo60, 0);
                // Lower is better for 0-60
                [playerTotal, houseTotal] = [houseTotal, playerTotal];
            }
            
            // Reveal house hand
            displayHand(houseHand, 'houseHand', false);
            
            // Show scores
            document.getElementById('playerScore').textContent = Math.round(playerTotal);
            document.getElementById('houseScore').textContent = Math.round(houseTotal);
            document.getElementById('scoreDisplay').classList.remove('hidden');
            
            // Determine winner
            setTimeout(() => {
                const won = playerTotal > houseTotal;
                showResult(won);
            }, 1000);
        }

        function showResult(won) {
            const resultDiv = document.getElementById('resultMessage');
            
            if (won) {
                resultDiv.className = 'result-message win';
                resultDiv.textContent = 'üèÜ YOU WIN! üèÜ';
                
                // Add prize to collection
                if (currentPrize.brand === "Ferrari" && !playerCollection.some(c => c.id === currentPrize.id)) {
                    playerCollection.push(currentPrize);
                }
            } else {
                resultDiv.className = 'result-message lose';
                resultDiv.textContent = 'üí• YOU LOSE! üí•';
                
                // Remove a Ferrari from collection
                if (playerCollection.length > 0) {
                    playerCollection.pop();
                }
            }
            
            updateCollectionDisplay();
            
            // Check win/lose conditions
            setTimeout(() => {
                if (playerCollection.length === 4) {
                    gameOver(true);
                } else if (playerCollection.length === 0) {
                    gameOver(false);
                } else {
                    document.getElementById('nextRoundBtn').classList.remove('hidden');
                }
            }, 1500);
        }

        function nextRound() {
            roundsPlayed++;
            document.getElementById('prizeSection').classList.remove('hidden');
            dealNewRound();
        }

        function updateCollectionDisplay() {
            const count = playerCollection.length;
            document.getElementById('collectionCount').textContent = `${count}/4`;
            
            const grid = document.getElementById('collectionGrid');
            grid.innerHTML = '';
            
            playerCollection.forEach(car => {
                const img = document.createElement('img');
                img.src = `images/${car.id}.jpg`;
                img.style.width = '100%';
                img.style.border = '2px solid #ffff00';
                grid.appendChild(img);
            });
        }

        function gameOver(won) {
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('gameOverScreen').classList.remove('hidden');
            
            const title = document.getElementById('gameOverTitle');
            const message = document.getElementById('gameOverMessage');
            
            if (won) {
                title.textContent = 'üèÜ FERRARI COLLECTION COMPLETE! üèÜ';
                title.style.color = '#00ff00';
                title.style.textShadow = '0 0 30px #00ff00';
                message.textContent = `You collected all 4 Ferraris in ${roundsPlayed} rounds!`;
            } else {
                title.textContent = 'üí• GAME OVER üí•';
                title.style.color = '#ff0000';
                title.style.textShadow = '0 0 30px #ff0000';
                message.textContent = 'You lost all your Ferraris! Better luck next time!';
            }
        }

        function shareResult() {
            const count = playerCollection.length;
            const text = count === 4 
                ? `üèÜ I completed the Ferrari Collection in Carcophony Top Trumps! Can you beat my time? üèÅ`
                : `I scored ${count}/4 Ferraris in Carcophony Top Trumps! Can you do better? üèÅ`;
            
            const url = window.location.href;
            const shareText = `${text}\n\n${url}`;
            
            if (navigator.share) {
                navigator.share({ text: shareText });
            } else {
                navigator.clipboard.writeText(shareText);
                alert('Result copied to clipboard! Share it on social media!');
            }
        }
    </script>
</body>
</html>
